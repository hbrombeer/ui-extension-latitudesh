{"version":3,"file":"latitudesh-0.1.0.umd.min.cloud-credential.js","mappings":"6OAmESA,MAAM,a,GACJA,MAAM,c,GAWNA,MAAM,mB,gGAbfC,EAAAA,EAAAA,oBAyBM,aAxBJC,EAAAA,EAAAA,oBAuBM,MAvBNC,EAuBM,EAtBJD,EAAAA,EAAAA,oBAqBM,MArBNE,EAqBM,EApBJC,EAAAA,EAAAA,aASEC,EAAA,CARCC,MAAOC,EAAAD,MAAME,YAAYC,MACzBC,MAAOC,EAAAC,EAAE,6CACTC,YAAaF,EAAAC,EAAE,mDAChBE,KAAK,WACJC,KAAMR,EAAAQ,KACNC,SAAUC,EAAAC,OACXC,SAAA,GACCC,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEf,EAAAD,MAAMiB,QAAQ,QAASD,K,2DAEjCrB,EAAAA,EAAAA,oBASI,IATJuB,EASI,E,2CARCb,EAAAC,EAAE,6CAA8C,IACnD,G,aAAAX,EAAAA,EAAAA,oBAMI,KALFwB,KAAK,sDACLC,OAAO,SACPC,IAAI,uBACL,2BAED,W,eApFV,SACEC,WAAY,CAAEC,aAAYA,EAAAA,GAE1BC,MAAO,CAELxB,MAAO,CACLQ,KAAUiB,OACVZ,UAAU,GAIZJ,KAAM,CACJD,KAASkB,OACTC,QAAS,WAIbC,SAAU,CACRhB,MAAAA,GACE,MAAqB,SAAdiB,KAAKpB,IACd,GAGFqB,MAAO,CACL,0BAA0BC,GAExBF,KAAKG,MAAM,sBAAuBD,EACpC,GAGFE,QAAS,CAEP,UAAMC,GACJ,IACE,MAAM/B,EAAQ0B,KAAK7B,MAAME,YAAYC,MAErC,IAAKA,EACH,MAAO,CAAEgC,OAAQ,CAAC,0BAIpB,MAAMC,QAAYP,KAAKQ,OAAOC,SAAS,qBAAsB,CAC3DC,IAAS,oDACTC,QAAS,CACP,cAAiB,UAAWrC,IAC5B,OAAiB,sBAIrB,SAAIiC,IAAOA,EAAIK,OAIR,CAAEN,OAAQ,CAAC,gCACpB,CAAE,MAAOO,GACP,MAAO,CAAEP,OAAQ,CAAC,gCAAiCO,EAAEC,SAAWD,KAClE,CACF,I,cCvDJ,MAAME,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,G","sources":["webpack://latitudesh-0.1.0/./cloud-credential/latitudesh.vue","webpack://latitudesh-0.1.0/./cloud-credential/latitudesh.vue?a511"],"sourcesContent":["<script>\nimport { LabeledInput } from '@components/Form/LabeledInput';\n\nexport default {\n  components: { LabeledInput },\n\n  props: {\n    // The cloud credential value object (bound by Rancher)\n    value: {\n      type:     Object,\n      required: true,\n    },\n\n    // Component mode: 'create', 'edit', or 'view'\n    mode: {\n      type:    String,\n      default: 'create',\n    },\n  },\n\n  computed: {\n    isView() {\n      return this.mode === 'view';\n    },\n  },\n\n  watch: {\n    'value.decodedData.token'(neu) {\n      // Emit validation status whenever the token changes\n      this.$emit('validationChanged', !!neu);\n    },\n  },\n\n  methods: {\n    // Optional: test the credential by calling the API\n    async test() {\n      try {\n        const token = this.value.decodedData.token;\n\n        if (!token) {\n          return { errors: ['API Token is required'] };\n        }\n\n        // Quick validation: try to list projects\n        const res = await this.$store.dispatch('management/request', {\n          url:     '/meta/proxy/api.latitude.sh/projects?page[size]=1',\n          headers: {\n            'Authorization': `Bearer ${ token }`,\n            'Accept':        'application/json',\n          },\n        });\n\n        if (res && res.data) {\n          return true;\n        }\n\n        return { errors: ['Could not validate API token'] };\n      } catch (e) {\n        return { errors: [`API token validation failed: ${ e.message || e }`] };\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"row mb-20\">\n      <div class=\"col span-6\">\n        <LabeledInput\n          :value=\"value.decodedData.token\"\n          :label=\"t('cluster.credential.latitudesh.token.label')\"\n          :placeholder=\"t('cluster.credential.latitudesh.token.placeholder')\"\n          type=\"password\"\n          :mode=\"mode\"\n          :disabled=\"isView\"\n          required\n          @input=\"value.setData('token', $event)\"\n        />\n        <p class=\"text-muted mt-5\">\n          {{ t('cluster.credential.latitudesh.token.help') }}\n          <a\n            href=\"https://www.latitude.sh/dashboard/settings/api-keys\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Latitude.sh Dashboard\n          </a>\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n","import { render } from \"./latitudesh.vue?vue&type=template&id=44463137\"\nimport script from \"./latitudesh.vue?vue&type=script&lang=js\"\nexport * from \"./latitudesh.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createElementVNode","_hoisted_1","_hoisted_2","_createVNode","_component_LabeledInput","value","$props","decodedData","token","label","_ctx","t","placeholder","type","mode","disabled","$options","isView","required","onInput","_cache","$event","setData","_hoisted_3","href","target","rel","components","LabeledInput","props","Object","String","default","computed","this","watch","neu","$emit","methods","test","errors","res","$store","dispatch","url","headers","data","e","message","__exports__","render"],"sourceRoot":""}