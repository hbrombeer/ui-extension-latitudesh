"use strict";(("undefined"!==typeof self?self:this)["webpackChunklatitudesh_0_1_0"]=("undefined"!==typeof self?self:this)["webpackChunklatitudesh_0_1_0"]||[]).push([[916],{6005(e,t,a){a.r(t),a.d(t,{default:()=>p});var r=a(9274);const o={class:"row mb-20"},d={class:"col span-6"},s={class:"text-muted mt-5"};function l(e,t,a,l,n,i){const c=(0,r.resolveComponent)("LabeledInput");return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("div",o,[(0,r.createElementVNode)("div",d,[(0,r.createVNode)(c,{value:a.value.decodedData.token,label:e.t("cluster.credential.latitudesh.token.label"),placeholder:e.t("cluster.credential.latitudesh.token.placeholder"),type:"password",mode:a.mode,disabled:i.isView,required:"",onInput:t[0]||(t[0]=e=>a.value.setData("token",e))},null,8,["value","label","placeholder","mode","disabled"]),(0,r.createElementVNode)("p",s,[(0,r.createTextVNode)((0,r.toDisplayString)(e.t("cluster.credential.latitudesh.token.help"))+" ",1),t[1]||(t[1]=(0,r.createElementVNode)("a",{href:"https://www.latitude.sh/dashboard/settings/api-keys",target:"_blank",rel:"noopener noreferrer"}," Latitude.sh Dashboard ",-1))])])])])}var n=a(1780);const i={components:{LabeledInput:n.o},props:{value:{type:Object,required:!0},mode:{type:String,default:"create"}},computed:{isView(){return"view"===this.mode}},watch:{"value.decodedData.token"(e){this.$emit("validationChanged",!!e)}},methods:{async test(){try{const e=this.value.decodedData.token;if(!e)return{errors:["API Token is required"]};const t=await this.$store.dispatch("management/request",{url:"/meta/proxy/api.latitude.sh/projects?page[size]=1",headers:{Authorization:`Bearer ${e}`,Accept:"application/json"}});return!(!t||!t.data)||{errors:["Could not validate API token"]}}catch(e){return{errors:[`API token validation failed: ${e.message||e}`]}}}}};var c=a(7433);const u=(0,c.A)(i,[["render",l]]),p=u}}]);
//# sourceMappingURL=latitudesh-0.1.0.umd.min.cloud-credential.js.map